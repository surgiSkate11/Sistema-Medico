{% extends 'base.html' %}
{% load static %}

{% block title %}Iniciar Sesión{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'auth/signin.css' %}">
{% endblock %}

{% block content %}
<!-- Sección Principal -->
<section class="flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 relative overflow-hidden">
  <!-- Neural Network Background Canvas -->
  <canvas id="neural-bg-canvas" class="absolute inset-0 w-full h-full pointer-events-none z-0"></canvas>

  <div class="w-full max-w-md login-glass relative z-10">
    <!-- Título -->
    <h2 class="text-3xl font-extrabold text-center">Bienvenido de nuevo</h2>
    <p class="text-center text-sm text-gray-200">Inicia sesión para acceder a tu cuenta</p>

    <!-- Formulario -->
    <form method="post" id="loginForm" class="space-y-5">
      {% csrf_token %}

      <!-- Campo Email -->
      <div>
        <label for="email">Correo Electrónico</label>
        <input type="email" name="username" id="email" required autofocus
               placeholder="usuario@ejemplo.com"
               class="w-full mt-1 px-4 py-3 border-none rounded-xl shadow-sm focus:ring-2 focus:ring-blue-400 focus:outline-none transition duration-200">
      </div>

      <!-- Campo Contraseña -->
      <div>
        <label for="password">Contraseña</label>
        <input type="password" name="password" id="password" required
               placeholder="••••••••"
               class="w-full mt-1 px-4 py-3 border-none rounded-xl shadow-sm focus:ring-2 focus:ring-blue-400 focus:outline-none transition duration-200">
      </div>

      <!-- Errores -->
      {% if form.errors %}
      <div class="form-error">
        {% for field in form %}
          {% for error in field.errors %}
            <p>{{ error }}</p>
          {% endfor %}
        {% endfor %}
        {% for error in form.non_field_errors %}
          <p>{{ error }}</p>
        {% endfor %}
      </div>
      {% endif %}

      <!-- Link Olvidaste tu contraseña -->
      <div class="flex justify-end">
        <a href="#" class="no-underline-link">¿Olvidaste tu contraseña?</a>
      </div>

      <!-- Botón Iniciar Sesión -->
      <button type="submit" id="loginButton" class="w-full btn-neon relative overflow-hidden">
        Iniciar Sesión
      </button>
    </form>

    <!-- Pie de formulario opcional -->
    <p class="text-center text-xs text-gray-300">¿No tienes cuenta?
      <a href="#">Regístrate</a>
    </p>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'auth/signin.js' %}"></script>
{% endblock %}