<!-- {# Tabla de las asignaciones recientes de la sesión (solo frontend) #}
<div class="cyber-table-container rounded-2xl overflow-hidden shadow-2xl">
    <table class="w-full text-center text-sm font-['Rajdhani'] text-cyan-100" id="tabla-asignaciones-recientes">
        <thead class="text-cyan-300 border-b-2 border-cyan-400/30">
            <tr>
                <th class="px-6 py-4 text-sm font-bold tracking-wider">GRUPO</th>
                <th class="px-6 py-4 text-sm font-bold tracking-wider">MÓDULO</th>
                <th class="px-6 py-4 text-sm font-bold tracking-wider">PERMISOS</th>
            </tr>
        </thead>
        <tbody id="cuerpo-asignaciones-recientes">
            <!-- Las filas se llenan con JS -->
        </tbody>
    </table>
</div>
<script>
// Array global para asignaciones recientes (máximo 5)
// window.asignacionesRecientes = [];

// Inicializa la tabla al cargar la página
// if (document.readyState !== 'loading') {
//     renderizarAsignacionesRecientes();
// } else {
//     document.addEventListener('DOMContentLoaded', renderizarAsignacionesRecientes);
// }

// function agregarAsignacionReciente(asignacion) {
//     window.asignacionesRecientes.unshift(asignacion);
//     if (window.asignacionesRecientes.length > 5) {
//         window.asignacionesRecientes = window.asignacionesRecientes.slice(0, 5);
//     }
//     renderizarAsignacionesRecientes();
// }

// function renderizarAsignacionesRecientes() {
//     const cuerpo = document.getElementById('cuerpo-asignaciones-recientes');
//     if (!cuerpo) return;
//     cuerpo.innerHTML = '';
//     if (window.asignacionesRecientes.length === 0) {
//         cuerpo.innerHTML = `<tr><td colspan="3" class="py-4 text-cyan-400/60 italic">No hay asignaciones recientes en esta sesión.</td></tr>`;
//         return;
//     }
//     window.asignacionesRecientes.forEach(item => {
//         const fila = document.createElement('tr');
//         fila.className = "transition-all duration-200 bg-cyan-950/60 border-b border-cyan-800 hover:bg-cyan-900/80 hover:shadow-xl";
//         fila.innerHTML = `
//             <td class='px-6 py-4 font-bold'>${item.group_name}</td>
//             <td class='px-6 py-4'><i class='${item.module_icon} text-2xl text-cyan-400 drop-shadow-glow'></i> ${item.module_name}</td>
//             <td class='px-6 py-4'><span class='bg-cyan-800/60 px-3 py-1 rounded-full text-cyan-200 font-semibold shadow-inner border border-cyan-400/30 text-sm'>${item.permissions.map(p => p.name).join(', ')}</span></td>
//         `;
//         cuerpo.appendChild(fila);
//     });
// }

// function manejarAsignacionRecienteDesdeAjax(data) {
//     if (data && data.success && data.assignment) {
//         agregarAsignacionReciente(data.assignment);
//     }
// }
// </script> -->
